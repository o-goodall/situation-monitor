import{N as x,V as pe,Q as A,a0 as H,a8 as me,W as _e,a as ee,Y as we,_ as be,$ as ne,a1 as G,R as P,a9 as Ae,aa as Ee,ab as se,I as Se,ac as S,O as Y,ad as Te,U as Ne,k as Fe,ae as Ie,af as K,ag as ke,ah as Ce,a5 as Me,ai as ae,aj as De,J as fe,M as ce,ak as z,al as Le,am as ye,K as Ue,an as Re,ao as ue,q as de,ap as Be,aq as Oe,ar as Pe,as as xe,at as He,au as Ge,av as ze,aw as L,ax as o}from"./CajaBwv3.js";function cn(e,n){return n}function Ye(e,n,s){for(var l=[],r=n.length,i,t=n.length,v=0;v<r;v++){let p=n[v];ce(p,()=>{if(i){if(i.pending.delete(p),i.done.add(p),i.pending.size===0){var g=e.outrogroups;q(K(i.done)),g.delete(i),g.size===0&&(e.outrogroups=null)}}else t-=1},!1)}if(t===0){var f=l.length===0&&s!==null;if(f){var d=s,c=d.parentNode;ye(c),c.append(d),e.items.clear()}q(n,!f)}else i={pending:new Set(n),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(i)}function q(e,n=!0){for(var s=0;s<e.length;s++)Ue(e[s],n)}var te;function un(e,n,s,l,r,i=null){var t=e,v=new Map,f=(n&ue)!==0;if(f){var d=e;t=A?H(me(d)):d.appendChild(x())}A&&_e();var c=null,p=Fe(()=>{var u=s();return Ie(u)?u:u==null?[]:K(u)}),g,h=!0;function T(){a.fallback=c,qe(a,g,t,n,l),c!==null&&(g.length===0?(c.f&S)===0?fe(c):(c.f^=S,U(c,null,t)):ce(c,()=>{c=null}))}var N=pe(()=>{g=ee(p);var u=g.length;let F=!1;if(A){var w=we(t)===be;w!==(u===0)&&(t=ne(),H(t),G(!1),F=!0)}for(var m=new Set,k=Se,M=Ne(),_=0;_<u;_+=1){A&&P.nodeType===Ae&&P.data===Ee&&(t=P,F=!0,G(!1));var C=g[_],D=l(C,_),b=h?null:v.get(D);b?(b.v&&se(b.v,C),b.i&&se(b.i,_),M&&k.unskip_effect(b.e)):(b=Je(v,h?t:te??(te=x()),C,D,_,r,n,s),h||(b.e.f|=S),v.set(D,b)),m.add(D)}if(u===0&&i&&!c&&(h?c=Y(()=>i(t)):(c=Y(()=>i(te??(te=x()))),c.f|=S)),u>m.size&&Te(),A&&u>0&&H(ne()),!h)if(M){for(const[B,O]of v)m.has(B)||k.skip_effect(O.e);k.oncommit(T),k.ondiscard(()=>{})}else T();F&&G(!0),ee(p)}),a={effect:N,items:v,outrogroups:null,fallback:c};h=!1,A&&(t=P)}function y(e){for(;e!==null&&(e.f&Le)===0;)e=e.next;return e}function qe(e,n,s,l,r){var b,B,O,V,W,X,Q,Z,j;var i=(l&Be)!==0,t=n.length,v=e.items,f=y(e.effect.first),d,c=null,p,g=[],h=[],T,N,a,u;if(i)for(u=0;u<t;u+=1)T=n[u],N=r(T,u),a=v.get(N).e,(a.f&S)===0&&((B=(b=a.nodes)==null?void 0:b.a)==null||B.measure(),(p??(p=new Set)).add(a));for(u=0;u<t;u+=1){if(T=n[u],N=r(T,u),a=v.get(N).e,e.outrogroups!==null)for(const E of e.outrogroups)E.pending.delete(a),E.done.delete(a);if((a.f&S)!==0)if(a.f^=S,a===f)U(a,null,s);else{var F=c?c.next:f;a===e.effect.last&&(e.effect.last=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),I(e,c,a),I(e,a,F),U(a,F,s),c=a,g=[],h=[],f=y(c.next);continue}if((a.f&z)!==0&&(fe(a),i&&((V=(O=a.nodes)==null?void 0:O.a)==null||V.unfix(),(p??(p=new Set)).delete(a))),a!==f){if(d!==void 0&&d.has(a)){if(g.length<h.length){var w=h[0],m;c=w.prev;var k=g[0],M=g[g.length-1];for(m=0;m<g.length;m+=1)U(g[m],w,s);for(m=0;m<h.length;m+=1)d.delete(h[m]);I(e,k.prev,M.next),I(e,c,k),I(e,M,w),f=w,c=M,u-=1,g=[],h=[]}else d.delete(a),U(a,f,s),I(e,a.prev,a.next),I(e,a,c===null?e.effect.first:c.next),I(e,c,a),c=a;continue}for(g=[],h=[];f!==null&&f!==a;)(d??(d=new Set)).add(f),h.push(f),f=y(f.next);if(f===null)continue}(a.f&S)===0&&g.push(a),c=a,f=y(a.next)}if(e.outrogroups!==null){for(const E of e.outrogroups)E.pending.size===0&&(q(K(E.done)),(W=e.outrogroups)==null||W.delete(E));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||d!==void 0){var _=[];if(d!==void 0)for(a of d)(a.f&z)===0&&_.push(a);for(;f!==null;)(f.f&z)===0&&f!==e.fallback&&_.push(f),f=y(f.next);var C=_.length;if(C>0){var D=(l&ue)!==0&&t===0?s:null;if(i){for(u=0;u<C;u+=1)(Q=(X=_[u].nodes)==null?void 0:X.a)==null||Q.measure();for(u=0;u<C;u+=1)(j=(Z=_[u].nodes)==null?void 0:Z.a)==null||j.fix()}Ye(e,_,D)}}i&&de(()=>{var E,$;if(p!==void 0)for(a of p)($=(E=a.nodes)==null?void 0:E.a)==null||$.apply()})}function Je(e,n,s,l,r,i,t,v){var f=(t&ke)!==0?(t&Ce)===0?Me(s,!1,!1):ae(s):null,d=(t&De)!==0?ae(r):null;return{v:f,i:d,e:Y(()=>(i(n,f??s,d??r,v),()=>{e.delete(l)}))}}function U(e,n,s){if(e.nodes)for(var l=e.nodes.start,r=e.nodes.end,i=n&&(n.f&S)===0?n.nodes.start:s;l!==null;){var t=Re(l);if(i.before(l),l===r)return;l=t}}function I(e,n,s){n===null?e.effect.first=s:n.next=s,s===null?e.effect.last=n:s.prev=n}const re=[...` 	
\r\fÂ \v\uFEFF`];function Ke(e,n,s){var l=e==null?"":""+e;if(s){for(var r of Object.keys(s))if(s[r])l=l?l+" "+r:r;else if(l.length)for(var i=r.length,t=0;(t=l.indexOf(r,t))>=0;){var v=t+i;(t===0||re.includes(l[t-1]))&&(v===l.length||re.includes(l[v]))?l=(t===0?"":l.substring(0,t))+l.substring(v+1):t=v}}return l===""?null:l}function dn(e,n){return e==null?null:String(e)}function vn(e,n,s,l,r,i){var t=e.__className;if(A||t!==s||t===void 0){var v=Ke(s,l,i);(!A||v!==e.getAttribute("class"))&&(v==null?e.removeAttribute("class"):e.className=v),e.__className=s}else if(i&&r!==i)for(var f in i){var d=!!i[f];(r==null||d!==!!r[f])&&e.classList.toggle(f,d)}return i}const Ve=Symbol("is custom element"),We=Symbol("is html"),Xe=ze?"link":"LINK";function gn(e){if(A){var n=!1,s=()=>{if(!n){if(n=!0,e.hasAttribute("value")){var l=e.value;le(e,"value",null),e.value=l}if(e.hasAttribute("checked")){var r=e.checked;le(e,"checked",null),e.checked=r}}};e.__on_r=s,de(s),He()}}function hn(e,n){var s=ve(e);s.checked!==(s.checked=n??void 0)&&(e.checked=n)}function le(e,n,s,l){var r=ve(e);A&&(r[n]=e.getAttribute(n),n==="src"||n==="srcset"||n==="href"&&e.nodeName===Xe)||r[n]!==(r[n]=s)&&(n==="loading"&&(e[Ge]=s),s==null?e.removeAttribute(n):typeof s!="string"&&Qe(e).includes(n)?e[n]=s:e.setAttribute(n,s))}function ve(e){return e.__attributes??(e.__attributes={[Ve]:e.nodeName.includes("-"),[We]:e.namespaceURI===Oe})}var oe=new Map;function Qe(e){var n=e.getAttribute("is")||e.nodeName,s=oe.get(n);if(s)return s;oe.set(n,s=[]);for(var l,r=e,i=Element.prototype;i!==r;){l=xe(r);for(var t in l)l[t].set&&s.push(t);r=Pe(r)}return s}const J=[{url:"https://www.coindesk.com/arc/outboundfeeds/rss/",name:"CoinDesk",enabled:!0},{url:"https://bitcoinmagazine.com/.rss/full/",name:"Bitcoin Magazine",enabled:!0},{url:"https://cointelegraph.com/rss",name:"CoinTelegraph",enabled:!0},{url:"https://feeds.bbci.co.uk/news/business/rss.xml",name:"BBC Business",enabled:!0},{url:"https://feeds.reuters.com/reuters/businessNews",name:"Reuters Business",enabled:!1},{url:"https://www.theblock.co/rss.xml",name:"The Block",enabled:!1},{url:"https://decrypt.co/feed",name:"Decrypt",enabled:!1},{url:"https://www.btctimes.com/rss",name:"BTC Times",enabled:!1}],R={dca:{startDate:new Date().toISOString().split("T")[0],dailyAmount:10,btcHeld:0,goalBtc:1,lowPrice:55e3,highPrice:125e3,maxDcaAud:1e3},polymarket:{keywords:["Bitcoin","Ukraine ceasefire","US Iran"]},news:{defaultFeeds:J.map(e=>({...e})),customFeeds:[]},ghostfolio:{token:"",currency:"AUD"}};function pn(){var e,n,s;if(typeof window>"u")return R;try{const l=localStorage.getItem("sm_settings");if(l){const r=JSON.parse(l);if((e=r.news)!=null&&e.sources&&!((n=r.news)!=null&&n.defaultFeeds)){const i=r.news.sources;r.news={defaultFeeds:J.map(t=>({...t})),customFeeds:i.map(t=>({url:t,name:new URL(t).hostname.replace("www.","").replace("feeds.",""),enabled:!0}))}}if((s=r.news)!=null&&s.defaultFeeds){const i=new Set(r.news.defaultFeeds.map(t=>t.url));for(const t of J)i.has(t.url)||r.news.defaultFeeds.push({...t})}return{...R,...r,dca:{...R.dca,...r.dca}}}}catch{}return R}function Ze(e){typeof window>"u"||localStorage.setItem("sm_settings",JSON.stringify(e))}function mn(e){const n=[];for(const s of e.defaultFeeds)s.enabled&&n.push(s.url);for(const s of e.customFeeds)s.enabled&&n.push(s.url);return n}function je(e,n,s=55e3,l=125e3,r=1e3){const i=n.audUsd===null,t=n.audUsd??1.58,v=l-s,f=Math.max(0,Math.min(100,(l-e)/v*100)),d=n.fearGreed,c=n.difficultyChange,p=n.fundingRate,g=n.halvingDaysLeft!==null&&n.halvingDaysLeft<=365,h=[{name:"Extreme Fear",active:d!==null&&d<=20,value:d!==null?`F&G ${d}`:"--",boost:20,source:"alternative.me"},{name:"Fear Zone",active:d!==null&&d>20&&d<=40,value:d!==null?`F&G ${d}`:"--",boost:10,source:"alternative.me"},{name:"Mining Distress",active:c!==null&&c<-5,value:c!==null?`${c.toFixed(1)}%`:"--",boost:10,source:"mempool.space"},{name:"Funding Negative",active:p!==null&&p<-.05,value:p!==null?`${p.toFixed(3)}%`:"--",boost:10,source:"binance"},{name:"Halving Window",active:g,value:g?"Active":"Inactive",boost:10,source:"schedule"}],N=1+h.filter(w=>w.active).reduce((w,m)=>w+m.boost,0)/100,a=Math.max(0,Math.min(100,f*N)),u=a/100*r,F=Math.round(u/50)*50;return{base:f,signals:h,totalPct:a,finalAud:F,conviction:h.filter(w=>w.active).length,audUsd:t,btcAud:e*t,usingFallback:i,mvrv:null}}const $e=o(R),_n=o(!1),ie=o(!1),wn=o(""),ge=o(0),bn=o(0),en=o(""),An=o([]),En=o(!1),Sn=o(0),Tn=o({low:0,medium:0,high:0}),Nn=o(0),nn=o(0),Fn=o(""),In=o(0),kn=o(null),Cn=o(null),sn=o(null),Mn=o(""),an=o(null),tn=o(null),he=o(null),Dn=o(""),Ln=o([]),yn=o([]),Un=o(null),Rn=o(null),Bn=o(null),On=o(null),Pn=o(null),xn=o(null),Hn=o(null),Gn=o(null),zn=o(null),Yn=o(null),qn=o([]),Jn=o(""),Kn=o(!1),Vn=o(""),rn=L([sn,an,tn,he,nn],([e,n,s,l,r])=>({fearGreed:e,difficultyChange:n,fundingRate:s,audUsd:l,halvingDaysLeft:r>0?r:null})),ln=L([ge,rn,$e],([e,n,s])=>e>0?je(e,n,s.dca.lowPrice,s.dca.highPrice,s.dca.maxDcaAud):null),Wn=L(ln,e=>e?e.finalAud===0?"#f43f5e":e.finalAud>=750?"#22c55e":e.finalAud>=400?"#f7931a":"#38bdf8":"#3f3f46"),Xn=L(en,e=>e==="up"?"#22c55e":e==="down"?"#f43f5e":"#e2e2e8"),on=L([ge,he],([e,n])=>e>0&&n!==null?e*n:null),Qn=L(on,e=>e!==null&&e>0?Math.round(1e8/e):null);function Zn(e){Ze(e),ie.set(!0),setTimeout(()=>ie.set(!1),2e3)}export{on as $,mn as A,yn as B,Un as C,Rn as D,Bn as E,On as F,Pn as G,Kn as H,Jn as I,xn as J,Hn as K,Gn as L,zn as M,Yn as N,qn as O,Vn as P,gn as Q,un as R,cn as S,hn as T,ie as U,Zn as V,dn as W,Xn as X,Qn as Y,Wn as Z,ln as _,vn as a,le as b,En as c,_n as d,ge as e,Sn as f,Tn as g,Nn as h,nn as i,Fn as j,In as k,pn as l,kn as m,Cn as n,en as o,bn as p,An as q,sn as r,$e as s,wn as t,Mn as u,an as v,tn as w,he as x,Dn as y,Ln as z};
